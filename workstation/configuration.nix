{ config, pkgs, ... }:

# TODO:
# firejail

{
  imports =
  [
    ./hardware-configuration.nix # Auto-generated by nixos
    ../shared/configuration.nix

    ## More secure defaults
    # TODO: Can we have this?
    #<nixpkgs/nixos/modules/profiles/hardened.nix>

    ## System
    ./system/boot.nix
    ./system/environment.nix
    ./system/network.nix
    ./system/security.nix
    ./system/sound.nix
    ./system/usb.nix

    ## Global programs
    ./program/essential.nix

    ## Users
    ./system/user.nix
    ./user/jeaye.nix

    ## Services
    ./service/x11.nix
    # Overrides.
    ./service/ssh.nix
    ./service/docker.nix
  ];

  system.stateVersion = "23.11";
}
